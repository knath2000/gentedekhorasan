---
import { Fragment } from 'preact';
import AiTranslationsToggle from '../components/AiTranslationsToggle.tsx'; // Importar el nuevo componente
import AuthSectionReact from '../components/AuthSectionReact.tsx';
import BackButton from '../components/BackButton.tsx';
import SettingsToggle from '../components/SettingsToggle.tsx';
import Layout from '../layouts/Layout.astro';
---

<Layout title="Settings - QuranExpo">
  <main class="min-h-screen bg-gradient-to-br from-skyLightBlue via-skyMediumBlue to-skyDeepBlue p-4">
    <BackButton client:load />
    <div class="max-w-md mx-auto pt-8 space-y-6">
      
      <!-- Account Section -->
      <AuthSectionReact client:only="react" />
      
      <!-- App Settings Section -->
      <div class="bg-glassmorphism-strong backdrop-blur-md rounded-xl p-6 border border-white/20">
        <h2 class="text-xl font-semibold text-textPrimary mb-4">App Settings</h2>
        
        <div class="space-y-4">
          <SettingsToggle
            client:only="preact"
            label="Autoplay"
            description="Automatically play next ayah"
            storeKey="autoplayEnabled"
            settingKey="autoplayEnabled"
          />
          
          <SettingsToggle
            client:only="preact"
            label="Show Translation"
            description="Display English translation"
            storeKey="showTranslation"
            settingKey="showTranslation"
          />
          
          <Fragment>
            <AiTranslationsToggle client:only="preact" /> {/* Nuevo componente */}
          </Fragment>
        </div>
      </div>
      
    </div>
  </main>
</Layout>
